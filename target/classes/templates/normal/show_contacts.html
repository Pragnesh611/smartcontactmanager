<!doctype html>
<!-- <html lang="en" xmlns:th="http://www.thymeleaf.org"	th:replace="base::layout(~{::section},'About Page')">  -->
<html lang="en" xmlns:th="http://www.thymeleaf.org"	th:replace="normal/base::layout(~{::section})">
<head>
	<meta charset="UTF-8" />
	<title>About Page</title>
</head>
<body>
	<section>
		 <div class="container">
		 	<div class="row " >				
				<div class="container-fluid">
					<div class="col-md-10 offset-md-1 mx-auto bg-white p-3 mt-3 shadow-lg p-3 mb-5 bg-body rounded mt-4">
					
						<!-- Alert message -->
						<div th:if="${session.message}" class="alert text-center mb-3" th:classappend="${'alert-'+session.message.type}" role="alert">
						  <span th:text="${session.message.content}"></span>
						  <th:block th:text="${#session.removeAttribute('message')}"></th:block>
						</div>
					
						<!-- Heading -->
						<h3 class="text-center fw-bold">Your Contacts</h3>
						<!--<hr class="w-25 mx-auto"/>  -->
						
						<!-- Search Function -->
						<div class="search-container my-3">
						
							<input onkeyup="search()" id="search-input" type="text"  class="form-control" placeholder="search your contacts"/>
							
							<div class="search-result">
								<!-- Result goes here -->
															
							</div>
						</div>			
						
						<!-- Table Part -->
						<div class="table-responsive contact-table ">
							<table class="table table-hover">
									  <thead class="thead-light">
									    <tr>
									      <th scope="col">#Id</th>
									      <th scope="col">Name</th>
									      <th scope="col">Email</th>
									      <th scope="col">Phone</th>
									      <th scope="col">Action</th>
									    </tr>
									  </thead>
									  
									  <tbody>
									  	
									    <tr th:each="c : ${contacts}">
									     
									      <th scope="row" th:text="${'SCM2020-'+c.cId}"></th>
									      
									      <td  >
									      	
									      		<img alt="Profile Photo" class="my-profile-picture" th:src="@{'/img/'+${c.image}}" src="">
									      	
									      	<span th:text="${c.name}+'('+${c.secondName}+')'"></span></td>
									      
									      <td >
									      	<a href="" class="text-decoration-none" th:href="@{'/user/'+${c.cId}+'/contact'}">
									      		<span th:text="${c.email}"></span>
									      	</a>
									      </td>
									      <td th:text="${c.phone}"></td>
									      <td >
									      	<a href="#" th:onclick="|deleteContact(${c.cId})|" class="btn btn-danger btn-sm">Delete </a>
									      	
									      	<form th:action="@{'/user/update-contact/'+${c.cId}}" class="mt-3" method="post">
									      		<button class="btn btn-primary btn-sm" type="submit">Update</button>
									      	</form>
									      	
									      	
									      	
									      </td>
									    </tr>
									     
									  </tbody>
							</table>	
							
						</div>
						
							<!-- Pagination part -->
						
							<nav aria-label="Page navigation example">
							
							  <ul class="pagination">
							  
							    <li th:if="${currentPage != 0}" 
							    	class="page-item"><a th:href="@{'/user/show-contacts/' + ${currentPage-1}}" class="page-link" href="#">Previous</a></li>
							  
							    
							    
							    <li th:classappend="${currentPage == i-1 ? 'active' : ''}" th:each="i : ${#numbers.sequence(1,totalPages)}" 
							    	class="page-item"><a th:href="@{'/user/show-contacts/' + ${i-1}}" class="page-link" href="#"><span th:text="${i}"></span></a></li>
							  
							   
							   
							    <li th:if="${currentPage+1 != totalPages}" 
							    class="page-item"><a th:href="@{'/user/show-contacts/' + ${currentPage+1}}" class="page-link" href="#">Next</a></li>
							  
							  </ul>
							</nav>		
						
					</div>
				</div>
			</div>
		</div> 	
		
		<script>
		
			$(document).ready(() => {
				$(".item").removeClass("active");
				$("#contacts-link").addClass("active");
				
				
			});
		
			
		</script>
		 
		
	</section>
	
</body>
</html>